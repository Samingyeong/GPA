# ğŸ“ í•œë°­ëŒ€í•™êµ GPA ê³„ì‚°ê¸° ì‹œìŠ¤í…œ ì„¤ê³„

## ğŸ“‹ ëª©ì°¨
1. [ì‹œìŠ¤í…œ ê°œìš”](#ì‹œìŠ¤í…œ-ê°œìš”)
2. [ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­](#ê¸°ëŠ¥-ìš”êµ¬ì‚¬í•­)
3. [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„](#ë°ì´í„°ë² ì´ìŠ¤-ì„¤ê³„)
4. [API ì„¤ê³„](#api-ì„¤ê³„)
5. [í”„ë¡ íŠ¸ì—”ë“œ ì„¤ê³„](#í”„ë¡ íŠ¸ì—”ë“œ-ì„¤ê³„)
6. [êµ¬í˜„ ë‹¨ê³„](#êµ¬í˜„-ë‹¨ê³„)

---

## ì‹œìŠ¤í…œ ê°œìš”

### í˜„ì¬ ì‹œìŠ¤í…œ
- âœ… ê³¼ëª© ê²€ìƒ‰ API (ì‹œê°„í‘œ ê´€ë ¨)
- âœ… GPA ê³„ì‚°ê¸° (í”„ë¡ íŠ¸ì—”ë“œ)
- âœ… ì¡¸ì—… ìš”ê±´ ì²´í¬ API (ê¸°ë³¸)

### ì¶”ê°€ í•„ìš” ê¸°ëŠ¥
- ğŸ” ì‚¬ìš©ì ì¸ì¦ (íšŒì›ê°€ì…/ë¡œê·¸ì¸)
- ğŸ‘¤ ì‚¬ìš©ì í”„ë¡œí•„ ê´€ë¦¬
- ğŸ“… ì‹œê°„í‘œ ê´€ë¦¬ (í•™ê¸°ë³„)
- ğŸ“Š ìƒì„¸ í•™ì  ê³„ì‚° ë° ì¡¸ì—… ìš”ê±´ ì²´í¬

---

## ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­

### 1. íšŒì›ê°€ì…
**í•„ìˆ˜ ì •ë³´:**
- í•™ë²ˆ (ê³ ìœ  ì‹ë³„ì)
- ë¹„ë°€ë²ˆí˜¸ (í•´ì‹œí™” ì €ì¥)
- ì…í•™ë‚ ì§œ
- í˜„ì¬ í•™ë…„
- ì¬í•™ ìƒíƒœ (ì¬í•™ì¤‘/íœ´í•™ì¤‘)
- ì´ë¦„
- í•™ê³¼ (ë“œë¡­ë‹¤ìš´ ì„ íƒ)
- ì „ê³µ ì •ë³´ (ë‹¤ì¤‘ ì„ íƒ ê°€ëŠ¥)
  - ë³µìˆ˜ì „ê³µ
  - ë¶€ì „ê³µ
  - ìœµí•©ì „ê³µ
  - ì‹¬í™”ì „ê³µ

**ê²€ì¦:**
- í•™ë²ˆ ì¤‘ë³µ ì²´í¬
- ë¹„ë°€ë²ˆí˜¸ ê°•ë„ ê²€ì¦
- í•„ìˆ˜ í•„ë“œ ê²€ì¦

### 2. ë¡œê·¸ì¸
**ì…ë ¥:**
- í•™ë²ˆ
- ë¹„ë°€ë²ˆí˜¸

**ì¶œë ¥:**
- JWT í† í° (ì¸ì¦ìš©)
- ì‚¬ìš©ì ê¸°ë³¸ ì •ë³´

### 3. ì‹œê°„í‘œ ê´€ë¦¬
**ê¸°ëŠ¥:**
- í•™ê¸°ë³„ ì‹œê°„í‘œ ì¡°íšŒ/ìˆ˜ì •
- ê³¼ëª© ì¶”ê°€/ì‚­ì œ
- ì„±ì  ì…ë ¥/ìˆ˜ì •
- 3í•™ë…„ì— ê°€ì…í•´ë„ 1í•™ë…„ 1,2í•™ê¸°, 2í•™ë…„ 1,2í•™ê¸° ë“± ê³¼ê±° í•™ê¸° ì„¤ì • ê°€ëŠ¥

**í•™ê¸° êµ¬ì¡°:**
```
{
  "year": 1,        // í•™ë…„
  "semester": 1,   // í•™ê¸° (1 ë˜ëŠ” 2)
  "courses": [     // ìˆ˜ê°• ê³¼ëª© ëª©ë¡
    {
      "course_code": "CS204",
      "course_name": "ìë£Œêµ¬ì¡°",
      "credit": 3,
      "grade": "A+",
      "category": "ì „í•„"
    }
  ]
}
```

### 4. í•™ì  ê³„ì‚° ë° ì¡¸ì—… ìš”ê±´ ì²´í¬
**í‘œì‹œ ì •ë³´:**
- ì´ ì´ìˆ˜ í•™ì 
- ì¡¸ì—…ê¹Œì§€ ë‚¨ì€ í•™ì 
- ì„¸ë¶€ ìš”ê±´ë³„ ë¶€ì¡± í•™ì :
  - "ì¼ë°˜êµì–‘ì—ì„œ 6í•™ì  ë” ë“¤ì–´ì•¼í•œë‹¤"
  - "ì‹¬í™”ì „ê³µì—ì„œ 9í•™ì  ë” ë“¤ì–´ì•¼í•œë‹¤"
  - "ì „ê³µí•„ìˆ˜ì—ì„œ 3í•™ì  ë” ë“¤ì–´ì•¼í•œë‹¤"
  - ë“±ë“±...

**ê³„ì‚° ê¸°ì¤€:**
- êµìœ¡ê³¼ì • ì—°ë„ (2018/2019)
- ì…í•™ êµ¬ë¶„ (ì‹ ì…ìƒ/í¸ì…ìƒ)
- ì „ê³µ ì •ë³´ (ë³µìˆ˜ì „ê³µ/ë¶€ì „ê³µ/ìœµí•©ì „ê³µ/ì‹¬í™”ì „ê³µ)

---

## ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### 1. Users Collection (Firestore)
```javascript
{
  studentId: "2020123456",        // í•™ë²ˆ (ê³ ìœ  í‚¤)
  passwordHash: "hashed_password", // ë¹„ë°€ë²ˆí˜¸ í•´ì‹œ
  name: "í™ê¸¸ë™",
  admissionDate: "2020-03-01",    // ì…í•™ë‚ ì§œ
  currentYear: 3,                  // í˜„ì¬ í•™ë…„
  status: "ì¬í•™ì¤‘",                // ì¬í•™ì¤‘/íœ´í•™ì¤‘
  department: "ì»´í“¨í„°ê³µí•™ê³¼",
  majors: {                        // ì „ê³µ ì •ë³´
    primary: "ì»´í“¨í„°ê³µí•™ê³¼",        // ì£¼ì „ê³µ
    double: ["ê²½ì˜í•™ê³¼"],          // ë³µìˆ˜ì „ê³µ (ë°°ì—´)
    minor: [],                     // ë¶€ì „ê³µ (ë°°ì—´)
    fusion: [],                    // ìœµí•©ì „ê³µ (ë°°ì—´)
    advanced: []                   // ì‹¬í™”ì „ê³µ (ë°°ì—´)
  },
  curriculumYear: "2019",          // êµìœ¡ê³¼ì • ì—°ë„
  studentType: "ì‹ ì…ìƒ",           // ì‹ ì…ìƒ/í¸ì…ìƒ
  createdAt: "2024-01-01T00:00:00Z",
  updatedAt: "2024-01-01T00:00:00Z"
}
```

### 2. Timetables Collection (Firestore)
```javascript
{
  id: "auto_generated_id",
  studentId: "2020123456",         // Users ì°¸ì¡°
  year: 1,                          // í•™ë…„
  semester: 1,                      // í•™ê¸° (1 ë˜ëŠ” 2)
  courses: [                        // ìˆ˜ê°• ê³¼ëª© ëª©ë¡
    {
      course_code: "CS204",
      course_name: "ìë£Œêµ¬ì¡°",
      credit: 3,
      grade: "A+",                  // A+, A, B+, B, C+, C, D+, D, F
      category: "ì „í•„",
      type: "MAJOR",
      stage: "BASIC"
    }
  ],
  createdAt: "2024-01-01T00:00:00Z",
  updatedAt: "2024-01-01T00:00:00Z"
}
```

### 3. ê¸°ì¡´ Collections (ìœ ì§€)
- `courses_master` - ê³¼ëª© ë§ˆìŠ¤í„° ë°ì´í„°
- `course_offerings` - ê°œì„¤ ì •ë³´ (ê²€ìƒ‰ìš©)

---

## API ì„¤ê³„

### ì¸ì¦ ê´€ë ¨ API

#### 1. íšŒì›ê°€ì…
```
POST /api/auth/register
Content-Type: application/json

{
  "studentId": "2020123456",
  "password": "password123",
  "name": "í™ê¸¸ë™",
  "admissionDate": "2020-03-01",
  "currentYear": 3,
  "status": "ì¬í•™ì¤‘",
  "department": "ì»´í“¨í„°ê³µí•™ê³¼",
  "majors": {
    "primary": "ì»´í“¨í„°ê³µí•™ê³¼",
    "double": ["ê²½ì˜í•™ê³¼"],
    "minor": [],
    "fusion": [],
    "advanced": []
  },
  "curriculumYear": "2019",
  "studentType": "ì‹ ì…ìƒ"
}

Response:
{
  "success": true,
  "message": "íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤",
  "data": {
    "studentId": "2020123456",
    "name": "í™ê¸¸ë™"
  }
}
```

#### 2. ë¡œê·¸ì¸
```
POST /api/auth/login
Content-Type: application/json

{
  "studentId": "2020123456",
  "password": "password123"
}

Response:
{
  "success": true,
  "data": {
    "token": "jwt_token_here",
    "user": {
      "studentId": "2020123456",
      "name": "í™ê¸¸ë™",
      "department": "ì»´í“¨í„°ê³µí•™ê³¼",
      "currentYear": 3
    }
  }
}
```

#### 3. í† í° ê²€ì¦
```
GET /api/auth/verify
Headers: Authorization: Bearer {token}

Response:
{
  "success": true,
  "data": {
    "studentId": "2020123456",
    "name": "í™ê¸¸ë™"
  }
}
```

### ì‹œê°„í‘œ ê´€ë ¨ API

#### 1. ì‹œê°„í‘œ ì¡°íšŒ (ì „ì²´)
```
GET /api/timetables
Headers: Authorization: Bearer {token}

Response:
{
  "success": true,
  "data": [
    {
      "year": 1,
      "semester": 1,
      "courses": [...]
    },
    {
      "year": 1,
      "semester": 2,
      "courses": [...]
    }
  ]
}
```

#### 2. íŠ¹ì • í•™ê¸° ì‹œê°„í‘œ ì¡°íšŒ
```
GET /api/timetables?year=1&semester=1
Headers: Authorization: Bearer {token}
```

#### 3. ì‹œê°„í‘œ ì €ì¥/ìˆ˜ì •
```
POST /api/timetables
Headers: Authorization: Bearer {token}
Content-Type: application/json

{
  "year": 1,
  "semester": 1,
  "courses": [
    {
      "course_code": "CS204",
      "grade": "A+"
    }
  ]
}

Response:
{
  "success": true,
  "message": "ì‹œê°„í‘œê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤",
  "data": {
    "year": 1,
    "semester": 1,
    "courses": [...]
  }
}
```

#### 4. ê³¼ëª© ì¶”ê°€
```
POST /api/timetables/courses
Headers: Authorization: Bearer {token}
Content-Type: application/json

{
  "year": 1,
  "semester": 1,
  "course_code": "CS204",
  "grade": "A+"
}
```

#### 5. ê³¼ëª© ì‚­ì œ
```
DELETE /api/timetables/courses
Headers: Authorization: Bearer {token}
Content-Type: application/json

{
  "year": 1,
  "semester": 1,
  "course_code": "CS204"
}
```

### í•™ì  ê³„ì‚° ë° ì¡¸ì—… ìš”ê±´ API

#### 1. ë‚´ í•™ì  í˜„í™© ì¡°íšŒ
```
GET /api/graduation/my-status
Headers: Authorization: Bearer {token}

Response:
{
  "success": true,
  "data": {
    "totalCredits": 125,
    "requiredCredits": 130,
    "remainingCredits": 5,
    "gpa": 4.2,
    "details": {
      "totalCredits": {
        "current": 125,
        "required": 130,
        "remaining": 5,
        "satisfied": false
      },
      "generalEducation": {
        "current": 30,
        "required": 33,
        "remaining": 3,
        "satisfied": false,
        "message": "ì¼ë°˜êµì–‘ì—ì„œ 3í•™ì  ë” ë“¤ì–´ì•¼í•©ë‹ˆë‹¤"
      },
      "majorEducation": {
        "current": 75,
        "required": 78,
        "remaining": 3,
        "satisfied": false,
        "message": "ì „ê³µì—ì„œ 3í•™ì  ë” ë“¤ì–´ì•¼í•©ë‹ˆë‹¤"
      },
      "advancedMajor": {
        "current": 6,
        "required": 15,
        "remaining": 9,
        "satisfied": false,
        "message": "ì‹¬í™”ì „ê³µì—ì„œ 9í•™ì  ë” ë“¤ì–´ì•¼í•©ë‹ˆë‹¤"
      }
    }
  }
}
```

#### 2. ì„¸ë¶€ ìš”ê±´ë³„ ì²´í¬
```
GET /api/graduation/requirements
Headers: Authorization: Bearer {token}

Response:
{
  "success": true,
  "data": {
    "requirements": [
      {
        "type": "GENERAL_EDUCATION",
        "name": "ì¼ë°˜êµì–‘",
        "current": 30,
        "required": 33,
        "remaining": 3,
        "satisfied": false,
        "message": "ì¼ë°˜êµì–‘ì—ì„œ 3í•™ì  ë” ë“¤ì–´ì•¼í•©ë‹ˆë‹¤"
      },
      {
        "type": "ADVANCED_MAJOR",
        "name": "ì‹¬í™”ì „ê³µ",
        "current": 6,
        "required": 15,
        "remaining": 9,
        "satisfied": false,
        "message": "ì‹¬í™”ì „ê³µì—ì„œ 9í•™ì  ë” ë“¤ì–´ì•¼í•©ë‹ˆë‹¤"
      }
    ]
  }
}
```

---

## í”„ë¡ íŠ¸ì—”ë“œ ì„¤ê³„

### í˜ì´ì§€ êµ¬ì¡°
```
/
â”œâ”€â”€ /login              # ë¡œê·¸ì¸ í˜ì´ì§€
â”œâ”€â”€ /register           # íšŒì›ê°€ì… í˜ì´ì§€
â”œâ”€â”€ /dashboard          # ëŒ€ì‹œë³´ë“œ (í•™ì  í˜„í™©)
â”œâ”€â”€ /timetable          # ì‹œê°„í‘œ ê´€ë¦¬
â”‚   â”œâ”€â”€ /timetable/1-1  # 1í•™ë…„ 1í•™ê¸°
â”‚   â”œâ”€â”€ /timetable/1-2  # 1í•™ë…„ 2í•™ê¸°
â”‚   â””â”€â”€ ...
â””â”€â”€ /graduation         # ì¡¸ì—… ìš”ê±´ ì²´í¬
```

### ì£¼ìš” ì»´í¬ë„ŒíŠ¸

#### 1. íšŒì›ê°€ì… í¼
- í•™ë²ˆ ì…ë ¥
- ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ (ê°•ë„ í‘œì‹œ)
- ì…í•™ë‚ ì§œ ì„ íƒ
- í˜„ì¬ í•™ë…„ ì„ íƒ
- ì¬í•™ ìƒíƒœ ì„ íƒ
- ì´ë¦„ ì…ë ¥
- í•™ê³¼ ë“œë¡­ë‹¤ìš´
- ì „ê³µ ì •ë³´ ë‹¤ì¤‘ ì„ íƒ (ì²´í¬ë°•ìŠ¤)

#### 2. ë¡œê·¸ì¸ í¼
- í•™ë²ˆ ì…ë ¥
- ë¹„ë°€ë²ˆí˜¸ ì…ë ¥

#### 3. ì‹œê°„í‘œ ê´€ë¦¬
- í•™ê¸° ì„ íƒ íƒ­ (1í•™ë…„ 1í•™ê¸°, 1í•™ë…„ 2í•™ê¸°, ...)
- ê³¼ëª© ê²€ìƒ‰ ë° ì¶”ê°€
- ì„±ì  ì…ë ¥
- ê³¼ëª© ì‚­ì œ

#### 4. í•™ì  í˜„í™© ëŒ€ì‹œë³´ë“œ
- ì´ ì´ìˆ˜ í•™ì  / ì¡¸ì—…ê¹Œì§€ ë‚¨ì€ í•™ì 
- GPA í‘œì‹œ
- ì„¸ë¶€ ìš”ê±´ë³„ ì§„í–‰ë¥  (í”„ë¡œê·¸ë ˆìŠ¤ ë°”)
- ë¶€ì¡± í•™ì  ë©”ì‹œì§€ í‘œì‹œ

---

## êµ¬í˜„ ë‹¨ê³„

### Phase 1: ì¸ì¦ ì‹œìŠ¤í…œ (1ì£¼)
- [ ] Users ëª¨ë¸ ìƒì„±
- [ ] íšŒì›ê°€ì… API
- [ ] ë¡œê·¸ì¸ API
- [ ] JWT í† í° ë°œê¸‰
- [ ] ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
- [ ] íšŒì›ê°€ì…/ë¡œê·¸ì¸ í˜ì´ì§€

### Phase 2: ì‹œê°„í‘œ ê´€ë¦¬ (1ì£¼)
- [ ] Timetables ëª¨ë¸ ìƒì„±
- [ ] ì‹œê°„í‘œ CRUD API
- [ ] ì‹œê°„í‘œ ê´€ë¦¬ í˜ì´ì§€
- [ ] í•™ê¸°ë³„ íƒ­ UI

### Phase 3: í•™ì  ê³„ì‚° ê°œì„  (1ì£¼)
- [ ] ì‚¬ìš©ìë³„ í•™ì  ê³„ì‚° ë¡œì§
- [ ] ì„¸ë¶€ ìš”ê±´ë³„ ì²´í¬ ë¡œì§
- [ ] ë¶€ì¡± í•™ì  ë©”ì‹œì§€ ìƒì„±
- [ ] ëŒ€ì‹œë³´ë“œ í˜ì´ì§€

### Phase 4: ì „ê³µ ì •ë³´ ë°˜ì˜ (1ì£¼)
- [ ] ë³µìˆ˜ì „ê³µ/ë¶€ì „ê³µ/ìœµí•©ì „ê³µ/ì‹¬í™”ì „ê³µ ë¡œì§
- [ ] ì „ê³µë³„ ì¡¸ì—… ìš”ê±´ ì²´í¬
- [ ] UI ê°œì„ 

---

## ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **ì¸ì¦**: JWT (jsonwebtoken)
- **ë¹„ë°€ë²ˆí˜¸ í•´ì‹œ**: bcrypt
- **ë°ì´í„°ë² ì´ìŠ¤**: Firestore (ê¸°ì¡´)
- **ê²€ì¦**: express-validator ë˜ëŠ” joi

### Frontend
- **ìƒíƒœ ê´€ë¦¬**: React Context ë˜ëŠ” Zustand
- **ì¸ì¦**: JWT í† í° ì €ì¥ (localStorage)
- **ë¼ìš°íŒ…**: React Router
- **í¼ ê´€ë¦¬**: React Hook Form

---

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

1. **ë¹„ë°€ë²ˆí˜¸**: bcryptë¡œ í•´ì‹œí™” (salt rounds: 10)
2. **JWT**: ë§Œë£Œ ì‹œê°„ ì„¤ì • (ì˜ˆ: 7ì¼)
3. **í† í° ì €ì¥**: localStorage (XSS ì£¼ì˜) ë˜ëŠ” httpOnly cookie (CSRF ì£¼ì˜)
4. **API ë³´í˜¸**: ì¸ì¦ ë¯¸ë“¤ì›¨ì–´ë¡œ ëª¨ë“  ë³´í˜¸ëœ API ê²€ì¦
5. **ì…ë ¥ ê²€ì¦**: ì„œë²„ ì¸¡ ê²€ì¦ í•„ìˆ˜

---

## ë‹¤ìŒ ë‹¨ê³„

1. ì´ ë¬¸ì„œ ê²€í†  ë° ìˆ˜ì •
2. Phase 1ë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ êµ¬í˜„
3. ê° Phase ì™„ë£Œ í›„ í…ŒìŠ¤íŠ¸ ë° í”¼ë“œë°±


